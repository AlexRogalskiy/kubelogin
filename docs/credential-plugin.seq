seqdiag {
  User -> kubectl [label = "Run"];
  kubectl -> kubelogin [label = "Run as credential plugin"];
  kubelogin -> Provider [label = "Authentication request"];
  === User authentication on the browser ===
  kubelogin <-- Provider [label = "Token response"];
  kubectl <-- kubelogin [label = "Credential"];
  kubectl -> kube-apiserver [label = "Request with the token"];
  kubectl <-- kube-apiserver;
  User <-- kubectl;
}
